{{- $wcPage := .wcPage -}}
{{- $wcBlock := .wcBlock -}}
{{- $wcIdentifier := .wcIdentifier -}}

{{- $st := $wcBlock.design.spacing | default dict -}}
{{- $pad := $st.padding | default (slice "4rem" "0" "4rem" "0") -}}

<section id="{{ $wcIdentifier }}" class="relative" style="padding: {{ delimit $pad " " }};">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">

    {{/* Section header */}}
    {{ if or $wcBlock.content.title $wcBlock.content.subtitle }}
    <div class="mx-auto max-w-2xl text-center mb-12">
      {{ with $wcBlock.content.title }}
      <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">
        {{ . | markdownify }}
      </h2>
      {{ end }}
      {{ with $wcBlock.content.subtitle }}
      <p class="mt-4 text-lg text-gray-600 dark:text-gray-300">
        {{ . | markdownify }}
      </p>
      {{ end }}
    </div>
    {{ end }}

    {{/* Tags grid - with dynamic counts from Hugo taxonomy */}}
    <div class="flex flex-wrap gap-3 justify-center">

      {{ $taxonomy := "tags" }}
      {{ range site.Taxonomies.tags.ByCount }}
      <a href="{{ .Page.RelPermalink }}" class="group relative inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-gray-800 shadow-sm ring-1 ring-gray-900/5 transition-all duration-300 hover:shadow-md hover:ring-primary-500/50 hover:-translate-y-0.5">
        <span class="text-sm font-medium text-gray-900 dark:text-white">
          {{ .Page.Title }}
        </span>
        <span class="inline-flex items-center justify-center h-5 min-w-[1.25rem] px-1.5 text-xs font-medium rounded-full bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400">
          {{ .Count }}
        </span>
      </a>
      {{ end }}
    </div>

  </div>
</section>
